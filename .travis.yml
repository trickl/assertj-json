language: java
env:
  global:
  - CC_TEST_REPORTER_ID=a0dddeda8363cade8544d0079ff5992b9584fd68998b823524f279a0ef8026c8
  - secure: "YPuq+XiV+u1B1c2+jBVlnMMR1E4KN11lFHTPaY206O8fmZWf9nbDXRexe3PFyj540ztUZE9au5xMLcyGQxX+60ihz30S6m1XIAQln2ej4UJVg7qg9Us5WulwtqEa9zWhsdD+8Yua8ROZv1SxPhIWOhDJ9Ozty2H+X1cmsjWHvJg8ywLIxR5wrt4c4GfuLwDI4Q2bE06T4aErrkHLothSwy9X5ErTgAfnxkkhMAB/UyaAbMnu5ep2ds7puNfCWS5HqD53a/tHVZWirTHZjJ8ApB/DmgYPwLZMVcMK+Bqub7HT/zAGz/zWeLNSUcVXXhMgKuF6Ea/om8pt5vBJz7H1gXVUuT5g9COGGzvHvhzk29UEusk7gRGprlNVfinYD4mOu7zrVDw7Alryap2q8L0MPyoiLCP1B/sSHNRBPJaYReiLsb0KUohZnD3pnHRd7BaKljK1FXy9XPRrI48Bs6ITlRxAOU4xmp+2vhPrxspgfRxXCzcxO4UmfsHKfFzi2IuWUXNBY9U4tvhCwaeSmskm/NVarSTXG2FxeZbS8L135R8672DY2nj0U30sINLMqtJ8PW+KCkiZV9PCv954KdfKnqGYnB57yeXCgpnMRhCMS5yGu6c/QRYKAmnoSffUVdil5P4MNmWRuARPRquz+FJhNmc3wsPyXSF9sjk20p8ehZI="
  - secure: "Ei8JvHgHRtd43vJd524w7YC4Lf6JO+Knw10ChVlpTTIR+4jolFGrBSMPCYePB0IjXF5OQStQQidglpPLCSl4lN+VMCG0RRMYf9vN7LtuYeDVosb0Ogzpiz8Nj7DYDh6WP9PS7rrskKmps7EwvNn1eM5ogP3TfWs12RUG1j3ISqQBWmkrPbClIp7X47wzWYQjAZgCLhcPvbw1uoIyiDvALO7008COuRzzRdlk1W56zrYKu4hAi+BbBPsUb0dW2P7lwKAKq8SHW+oO6VxVAzka/6OdcTFPJMKtNjSbwhoI2HpeRpWikbKalX6Bb9yp3zhBZzHhqdKE8g4/GhQU8tnwsHzImkaOS0ttLENIyjT8Kw96yOFJLmWabG0ri6Ui7HV6hfj0y+jH8noO10h5hXMyj/eZ1uZowrsj1Qm5DScH096UZn2L6lEJxuNqt6c2s3a8NWnX7hnFqZxqRkVMg/PAhZYNUt97IEqQiI733R5MyylvDq4oTdbqx/zLDdtvjA0tVjJGWt9iOgolYKB5E3PfnO8NQ6131SgqR2vVZ4fF48lTxDmHUNdz6tVk63riiu2x3GK9hAuvTgNDBwhAf8n6BICzODRAtNhWvXsNz9VyBGfeIHeYP6erkaAvb+a5hIzVYezlrH4afhcfEyCtKAbBs7K+NA28aDI1JAwlqdEWw/4="
  - secure: "VLhxOawz2cDhb2os9X4Sbp+0QqtIPUakyuzWrs1NneuDtY4P/jUq3BZQCkxxWu+RUx906sUVfa7vjbmnJKhjvS4qr/cYolMF8vvhuQhm7uyq/Ezlq4dq9XQXi40JkKlDItiE2GzLVSBkyWS4M49NJYvkUkHXP3mo7e7aHZ5Q5G1yz8WfpX8teGTst01yIxaPOxeMaB8p+EOkUyrsa//C+jYSVJEmttf21O0gXnNZoODO15f2qeA8VAeqnoDDo5TsDF6He7cEtesOiOMlsryl+mtEWNd0kx9ME/NE9vcNCidjwPcuEUj5L6LBAYiI4+Iq5LAPy1dZcJflVd57Aw4gfqbZBEI7l2+CK6yvXpKyDUJT9H5mCgOzj6BMegiITodY9qBSGBQe0eV+bzy4Hzo/IBkFlK93mYKXfh18H2HSbQcXdUlmN9b2SdMuJrFLRp7ASviIecg0LYiQYHEvgR+gWQ0npsj6XO2MSQzxrtvBo2+MW9MGrEZCeODEE2kT2ig6l+DL3bVoX08k301LKafAN0oPphsxVaKZf3Zfvoh3Xj4y1jxdof2eXZTWzedyaXgsnnpFe8grtdTByWXJRHPx7SuY8P7s28EkDM+sYInyFNRXnPexoBrO1cVzNfD+Nw4v0dGTKUSBUidVovHesalFbTNs+R+L+51vdKCu16XC2vk="
install:
- mvn --settings .travis/settings.xml install -DskipTests=true -Dgpg.skip -Dmaven.javadoc.skip=true
  -B -V
before_script:
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
- ".travis/before-script.sh"
script:
- mvn test
after_script:
- "./cc-test-reporter format-coverage -d -t jacoco ./target/jacoco-ut/jacoco.xml"
- "./cc-test-reporter upload-coverage -d"
before_deploy:
- mvn help:evaluate -N -Dexpression=project.version|grep -v '\['
- export project_version=$(mvn help:evaluate -N -Dexpression=project.version|grep
  -v '\[')
deploy:
- provider: script
  script: ".travis/deploy.sh"
  skip_cleanup: true
  on:
    repo: trickl/assertj-json
    tags: true
    condition: $TRAVIS_TAG =~ ^[0-9+].[0-9+].[0-9+]$
    all_branches: true
- provider: script
  script: ".travis/deploy.sh"
  skip_cleanup: true
  on:
    repo: trickl/assertj-json
    branch: master
    tags: false
- provider: releases
  api_key:
    secure: IN+w9/eDXynx3EM4TgRj4IwMC0+s5Di+IBEG9no51hUiR2avPc72k+qHmxJWiN3of9CX0mCdwgm+KhD2uKSZLnw+HadWb2ZtSMADfzoffQQb9eLkmDsVQbgQ1C4FWxLKfGl3DfMiw2cDr7NsD75sLU07EYC3SMWPuGYCDrf5NVeYPhb8StCA61noKwBQh3W1NMy20XJYE+fuaV9e3Ehl20wtpVVF5DweQVsAcXMJ8uS0ndtUHZs3BNLULSNRa7Pm46trD/RoI1foRGTmXrBBtC/5RPoI85TUhgeYJp7MmoCLfLDKt6IvqnmL/UvgTL3Hr8v/0vvgVtR/I7RZ4B1vvyPsxRkMWkqqm2hEpmGkbYxO2UEBo3yTAob4aocG0YYwaHF/IHubV8cya+lRWbTvaoFoIFNUZgFlqyt0X9JBFQr7aaEI6LlhiSwsQpz7Lok4ofIQRKnAOtbyoDpB7oLZwYFS58ZqYar6yk7CuKnkoZSB9jqPzL+xxU1Ccf07T7E5YbDKvuJv/KFwD0xLALkWadeTxMLPVjoE4axzXiBXd/gl4QebpWT3eIBZAF9HrX2SkrKhquECOSaBTJNnXqM5B/jc6CkQwAcjycIZuPNoyk3r00OPWq5Li4xKkxKjATtTmwBf3XeTHqXwpuCeEBsbOpUkxhzv2GMK7R8nZtOAItU=
  file: ".travis.yml"
  on:
    repo: trickl/assertj-json
    tags: true
    condition: $TRAVIS_TAG =~ ^[0-9+].[0-9+].[0-9+]$
    all_branches: true
